# CloudFormationResources
Catalog of golang-based CloudFormation CustomResources

## Adding a New Resource

  1. Create a new struct that embeds `CustomResourceCommand`
    - This struct **MUST** embed `GoAWSCustomResource` as in:
    ```
    type HelloWorldResource struct {
    	GoAWSCustomResource
    	Message string
    }
    ```
  1. Ensure the new type implements `CustomResourceCommand` by adding:
    - `create(session *session.Session, logger *logrus.Logger) (map[string]interface{}, error)`
    - `update(session *session.Session, logger *logrus.Logger) (map[string]interface{}, error)`
    - `delete(session *session.Session, logger *logrus.Logger) (map[string]interface{}, error)`
  1. Add a package level _var_ denoting the resource type
    - The value **MUST** be generated by `cloudFormationResourceType(...)` to include the proper custom resource [prefix](http://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/template-custom-resources.html).  Example:

      ```
      HelloWorld = cloudFormationResourceType("HelloWorldResource")
      ```
  1. Add a `case` label in `customCommandForTypeName` for the custom resource type added in step 2.  
    - This block is responsible for creating a new command instance and unmarshalling the _properties_ into the type-specific values.
    - Assign the new command to the _customCommand_ interface.  Example:

      ```
      case HelloWorld:
    		command := HelloWorldResource{
    			GoAWSCustomResource: GoAWSCustomResource{
    				GoAWSType: resourceTypeName,
    			},
    		}
    		if nil != properties {
    			unmarshalError = json.Unmarshal([]byte(string(*properties)), &command)
    		}
    		customCommand = &command
    	}
      ```
